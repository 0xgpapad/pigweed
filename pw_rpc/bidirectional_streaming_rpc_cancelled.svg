<!-- Originally created with blockdiag. See the Git history for the source. -->
<svg height="600.6" viewBox="0 0 600 546" width="660.0" xmlns="http://www.w3.org/2000/svg" xmlns:inkspace="http://www.inkscape.org/namespaces/inkscape" xmlns:xlink="http://www.w3.org/1999/xlink" style="background-color:white">
<defs id="defs_block">
<filter height="1.504" id="filter_blur" inkspace:collect="always" width="1.1575" x="-0.07875" y="-0.252">
<feGaussianBlur id="feGaussianBlur3780" inkspace:collect="always" stdDeviation="4.2"></feGaussianBlur>
</filter>
</defs>
<title>Cancelled Bidirectional Streaming RPC</title>
<desc></desc>
<rect fill="rgb(0,0,0)" height="371" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="8" x="207" y="153"></rect>
<rect fill="rgb(0,0,0)" height="371" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="8" x="399" y="153"></rect>
<polygon fill="rgb(0,0,0)" points="63,126 187,126 195,134 195,180 63,180 63,126" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1"></polygon>
<polygon fill="rgb(0,0,0)" points="27,220 187,220 195,228 195,287 27,287 27,220" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1"></polygon>
<polygon fill="rgb(0,0,0)" points="419,327 579,327 587,335 587,394 419,394 419,327" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1"></polygon>
<polygon fill="rgb(0,0,0)" points="69,434 187,434 195,442 195,488 69,488 69,434" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1"></polygon>
<rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="147" y="46"></rect>
<rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="339" y="46"></rect>
<path d="M 208 80 L 208 534" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4"></path>
<rect fill="moccasin" height="371" stroke="rgb(0,0,0)" width="8" x="204" y="147"></rect>
<path d="M 400 80 L 400 534" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4"></path>
<rect fill="moccasin" height="371" stroke="rgb(0,0,0)" width="8" x="396" y="147"></rect>
<rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="144" y="40"></rect>
<text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="36" x="208.0" y="66">client</text>
<rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="336" y="40"></rect>
<text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="36" x="400.0" y="66">server</text>
<path d="M 216 147 L 392 147" fill="none" stroke="rgb(0,0,0)"></path>
<polygon fill="rgb(0,0,0)" points="384,143 392,147 384,151" stroke="rgb(0,0,0)"></polygon>
<polygon fill="rgb(240,248,255)" points="60,120 184,120 192,128 192,174 60,174 60,120" stroke="rgb(0,0,0)"></polygon>
<path d="M 184 120 L 184 128" fill="none" stroke="rgb(0,0,0)"></path>
<path d="M 184 128 L 192 128" fill="none" stroke="rgb(0,0,0)"></path>
<text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="108" x="122.0" y="133">PacketType.REQUEST</text>
<text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="60" x="98.0" y="146">channel ID</text>
<text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="60" x="98.0" y="159">service ID</text>
<text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="54" x="95.0" y="172">method ID</text>
<path d="M 216 247 L 392 247" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="4"></path>
<polygon fill="rgb(0,0,0)" points="384,243 392,247 384,251" stroke="rgb(0,0,0)"></polygon>
<polygon fill="rgb(240,248,255)" points="24,214 184,214 192,222 192,281 24,281 24,214" stroke="rgb(0,0,0)"></polygon>
<path d="M 184 214 L 184 222" fill="none" stroke="rgb(0,0,0)"></path>
<path d="M 184 222 L 192 222" fill="none" stroke="rgb(0,0,0)"></path>
<text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="144" x="104.0" y="227">PacketType.CLIENT_STREAM</text>
<text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="60" x="62.0" y="240">channel ID</text>
<text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="60" x="62.0" y="253">service ID</text>
<text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="54" x="59.0" y="266">method ID</text>
<text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="42" x="53.0" y="279">payload</text>
<path d="M 216 354 L 392 354" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="4"></path>
<polygon fill="rgb(0,0,0)" points="224,350 216,354 224,358" stroke="rgb(0,0,0)"></polygon>
<polygon fill="rgb(240,248,255)" points="416,321 576,321 584,329 584,388 416,388 416,321" stroke="rgb(0,0,0)"></polygon>
<path d="M 576 321 L 576 329" fill="none" stroke="rgb(0,0,0)"></path>
<path d="M 576 329 L 584 329" fill="none" stroke="rgb(0,0,0)"></path>
<text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="144" x="496.0" y="334">PacketType.SERVER_STREAM</text>
<text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="60" x="454.0" y="347">channel ID</text>
<text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="60" x="454.0" y="360">service ID</text>
<text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="54" x="451.0" y="373">method ID</text>
<text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="42" x="445.0" y="386">payload</text>
<path d="M 216 455 L 392 455" fill="none" stroke="rgb(0,0,0)"></path>
<polygon fill="rgb(0,0,0)" points="384,451 392,455 384,459" stroke="rgb(0,0,0)"></polygon>
<polygon fill="rgb(240,248,255)" points="66,428 184,428 192,436 192,482 66,482 66,428" stroke="rgb(0,0,0)"></polygon>
<path d="M 184 428 L 184 436" fill="none" stroke="rgb(0,0,0)"></path>
<path d="M 184 436 L 192 436" fill="none" stroke="rgb(0,0,0)"></path>
<text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="102" x="125.0" y="441">PacketType.CANCEL</text>
<text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="60" x="104.0" y="454">channel ID</text>
<text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="60" x="104.0" y="467">service ID</text>
<text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="54" x="101.0" y="480">method ID</text>
<text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="30" x="235.0" y="145">start</text>
<text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="138" x="289.0" y="245">messages (zero or more)</text>
<text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="138" x="323.0" y="352">messages (zero or more)</text>
<text fill="rgb(0,0,0)" font-family="sans-serif" font-size="11" font-style="normal" font-weight="normal" text-anchor="middle" textLength="36" x="238.0" y="453">cancel</text>
</svg>
